<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Open Reuse</title>
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>
<body>
	<div id="navbar">
            <nav class="white" style="box-shadow: none;position: fixed;top: 7px;">
                <div class="valign-wrapper row">
                    <div class="col l2" style="margin-left: 0;line-height: 0;">
                        <a href="index.html" style="
    margin-left: 10px;
    line-height: 0; 
">  
                            <img src="static/openre.png" style="height: 40px;/* margin-top: 10px; */">
                        </a> 
                    </div>
                </div>
            </nav>
        </div>

	<div style="margin-top:100px;" class="row">
		<div class="col l6 offset-l3">
			<h5 class="green-text text-darken-2">Citation Extracted Successfully !</h5>
			<h6>Building Citation Context ....</h6>
			<div class="progress">
      				<div class="indeterminate"></div>
			</div>
		</div>
	</div>
</body>
<script type="application/javascript">
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};

var filename = getUrlParameter('f');

setInterval(function() {
  $.getJSON("/runBERT?f=" + filename, function(data){
	  if (data == 0) {
		M.toast({html: 'Taking longer for processing !'});
	  }
	  if (data == 1) {
		M.toast({html: 'Started processing !'});
	  }
	  if (data == 2) {
		window.location.href = '/processed?f=' + filename;
	  }
  });
}, 10000); 

</script>
        
